-- MySQL Script generated by MySQL Workbench
-- Thu Apr 18 14:41:22 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema db_bhaskara
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `db_bhaskara` ;

-- -----------------------------------------------------
-- Schema db_bhaskara
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `db_bhaskara` DEFAULT CHARACTER SET utf8mb4 ;
USE `db_bhaskara` ;

-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_admin`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_admin` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_admin` (
  `cd_admin` INT NOT NULL AUTO_INCREMENT,
  `nm_usuario` VARCHAR(30) NOT NULL,
  `cd_codigo_acesso` BIGINT(6) NOT NULL,
  PRIMARY KEY (`cd_admin`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_aluno`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_aluno` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_aluno` (
  `cd_aluno` INT NOT NULL AUTO_INCREMENT,
  `nm_aluno` VARCHAR(100) NOT NULL,
  `cd_rg` VARCHAR(9) NOT NULL,
  `cd_cpf` VARCHAR(11) NOT NULL,
  `dt_nascimento` DATE NOT NULL,
  `nm_foto_perfil` VARCHAR(255) NULL DEFAULT 'null',
  `id_tipo_sanguineo` INT NOT NULL,
  `id_sexo` INT NOT NULL,
  `id_pcd` INT NOT NULL,
  `id_endereco` INT NOT NULL,
  `id_telefone` INT NOT NULL,
  `nm_usuario` VARCHAR(30) NOT NULL,
  `cd_codigo_acesso` BIGINT(6) NOT NULL,
  `dt_matricula_inicial` DATETIME NOT NULL DEFAULT current_timestamp,
  `dt_atualizacao` DATETIME NOT NULL DEFAULT current_timestamp on update current_timestamp,
  PRIMARY KEY (`cd_aluno`),
  INDEX `fk_tb_aluno_tb_tipo_sanguineo_idx` (`id_tipo_sanguineo` ASC) VISIBLE,
  INDEX `fk_tb_aluno_tb_sexo1_idx` (`id_sexo` ASC) VISIBLE,
  INDEX `fk_tb_aluno_tb_pcd1_idx` (`id_pcd` ASC) VISIBLE,
  INDEX `fk_tb_aluno_tb_endereco1_idx` (`id_endereco` ASC) VISIBLE,
  INDEX `fk_tb_aluno_tb_telefone1_idx` (`id_telefone` ASC) VISIBLE,
  CONSTRAINT `fk_tb_aluno_tb_tipo_sanguineo`
    FOREIGN KEY (`id_tipo_sanguineo`)
    REFERENCES `db_bhaskara`.`tb_tipo_sanguineo` (`cd_tipo_sanguineo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_aluno_tb_sexo1`
    FOREIGN KEY (`id_sexo`)
    REFERENCES `db_bhaskara`.`tb_sexo` (`cd_sexo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_aluno_tb_pcd1`
    FOREIGN KEY (`id_pcd`)
    REFERENCES `db_bhaskara`.`tb_pcd` (`cd_pcd`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_aluno_tb_endereco1`
    FOREIGN KEY (`id_endereco`)
    REFERENCES `db_bhaskara`.`tb_endereco` (`cd_endereco`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_aluno_tb_telefone1`
    FOREIGN KEY (`id_telefone`)
    REFERENCES `db_bhaskara`.`tb_telefone` (`cd_telefone`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_aluno_responsavel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_aluno_responsavel` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_aluno_responsavel` (
  `id_aluno` INT NOT NULL,
  `id_responsavel` INT NOT NULL,
  PRIMARY KEY (`id_aluno`, `id_responsavel`),
  INDEX `fk_tb_aluno_has_tb_responsavel_tb_responsavel1_idx` (`id_responsavel` ASC) VISIBLE,
  INDEX `fk_tb_aluno_has_tb_responsavel_tb_aluno1_idx` (`id_aluno` ASC) VISIBLE,
  CONSTRAINT `fk_tb_aluno_has_tb_responsavel_tb_aluno1`
    FOREIGN KEY (`id_aluno`)
    REFERENCES `db_bhaskara`.`tb_aluno` (`cd_aluno`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_aluno_has_tb_responsavel_tb_responsavel1`
    FOREIGN KEY (`id_responsavel`)
    REFERENCES `db_bhaskara`.`tb_responsavel` (`cd_responsavel`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_ano_letivo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_ano_letivo` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_ano_letivo` (
  `cd_ano_letivo` INT NOT NULL AUTO_INCREMENT,
  `dt_inicio` DATETIME NOT NULL DEFAULT current_timestamp,
  `dt_fim` DATETIME NULL,
  `tb_ano_letivocol` YEAR NOT NULL,
  PRIMARY KEY (`cd_ano_letivo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_aula`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_aula` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_aula` (
  `cd_aula` INT NOT NULL AUTO_INCREMENT,
  `ds_aula` TEXT NOT NULL,
  `id_turma` INT NOT NULL,
  `id_materia` INT NOT NULL,
  `id_professor` INT NOT NULL,
  `dt_aula` DATETIME DEFAULT (current_timestamp),
  PRIMARY KEY (`cd_aula`),
  INDEX `fk_tb_aula_tb_turma_materia_professor1_idx` (`id_turma` ASC, `id_materia` ASC, `id_professor` ASC) VISIBLE,
  CONSTRAINT `fk_tb_aula_tb_turma_materia_professor1`
    FOREIGN KEY (`id_turma` , `id_materia` , `id_professor`)
    REFERENCES `db_bhaskara`.`tb_turma_materia_professor` (`id_turma` , `id_materia` , `id_professor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_avaliacao`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_avaliacao` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_avaliacao` (
  `cd_avaliacacao` INT NOT NULL AUTO_INCREMENT,
  `ps_avaliacao` TINYINT NOT NULL,
  `dt_avaliacao` DATE NOT NULL,
  `id_turma` INT NOT NULL,
  `id_materia` INT NOT NULL,
  `id_professor` INT NOT NULL,
  PRIMARY KEY (`cd_avaliacacao`),
  INDEX `fk_tb_avaliacao_tb_turma_materia_professor1_idx` (`id_turma` ASC, `id_materia` ASC, `id_professor` ASC) VISIBLE,
  CONSTRAINT `fk_tb_avaliacao_tb_turma_materia_professor1`
    FOREIGN KEY (`id_turma` , `id_materia` , `id_professor`)
    REFERENCES `db_bhaskara`.`tb_turma_materia_professor` (`id_turma` , `id_materia` , `id_professor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_endereco`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_endereco` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_endereco` (
  `cd_endereco` INT NOT NULL AUTO_INCREMENT,
  `cd_uf` CHAR(2) NOT NULL,
  `nm_cidade` VARCHAR(255) NOT NULL,
  `nm_bairro` VARCHAR(255) NOT NULL,
  `nm_rua` VARCHAR(255) NOT NULL,
  `nm_complemento` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`cd_endereco`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_falta`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_falta` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_falta` (
  `cd_falta` INT NOT NULL,
  `id_matricula` INT NOT NULL,
  `id_aula` INT NOT NULL,
  `dt_falta` DATETIME NOT NULL DEFAULT current_timestamp,
  PRIMARY KEY (`cd_falta`),
  INDEX `fk_tb_falta_tb_aula1_idx` (`id_aula` ASC) VISIBLE,
  INDEX `fk_tb_falta_tb_matricula1_idx` (`id_matricula` ASC) VISIBLE,
  CONSTRAINT `fk_tb_falta_tb_aula1`
    FOREIGN KEY (`id_aula`)
    REFERENCES `db_bhaskara`.`tb_aula` (`cd_aula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_falta_tb_matricula1`
    FOREIGN KEY (`id_matricula`)
    REFERENCES `db_bhaskara`.`tb_matricula` (`cd_matricula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_materia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_materia` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_materia` (
  `cd_materia` INT NOT NULL AUTO_INCREMENT,
  `nm_materia` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`cd_materia`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_matricula`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_matricula` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_matricula` (
  `cd_matricula` INT NOT NULL AUTO_INCREMENT,
  `id_aluno` INT NOT NULL,
  `id_serie` INT NOT NULL,
  `dt_matricula` DATETIME NOT NULL DEFAULT current_timestamp,
  `id_ano_letivo` INT NOT NULL,
  PRIMARY KEY (`cd_matricula`),
  INDEX `fk_tb_matricula_tb_aluno1_idx` (`id_aluno` ASC) VISIBLE,
  INDEX `fk_tb_matricula_tb_serie1_idx` (`id_serie` ASC) VISIBLE,
  INDEX `fk_tb_matricula_tb_ano_letivo1_idx` (`id_ano_letivo` ASC) VISIBLE,
  CONSTRAINT `fk_tb_matricula_tb_aluno1`
    FOREIGN KEY (`id_aluno`)
    REFERENCES `db_bhaskara`.`tb_aluno` (`cd_aluno`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_matricula_tb_serie1`
    FOREIGN KEY (`id_serie`)
    REFERENCES `db_bhaskara`.`tb_serie` (`cd_serie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_matricula_tb_ano_letivo1`
    FOREIGN KEY (`id_ano_letivo`)
    REFERENCES `db_bhaskara`.`tb_ano_letivo` (`cd_ano_letivo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_nota`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_nota` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_nota` (
  `cd_nota` INT NOT NULL AUTO_INCREMENT,
  `vl_nota` DECIMAL(4,2) NOT NULL,
  `id_avaliacacao` INT NOT NULL,
  `id_matricula` INT NOT NULL,
  PRIMARY KEY (`cd_nota`),
  INDEX `fk_tb_nota_tb_avaliacao1_idx` (`id_avaliacacao` ASC) VISIBLE,
  INDEX `fk_tb_nota_tb_matricula1_idx` (`id_matricula` ASC) VISIBLE,
  CONSTRAINT `fk_tb_nota_tb_avaliacao1`
    FOREIGN KEY (`id_avaliacacao`)
    REFERENCES `db_bhaskara`.`tb_avaliacao` (`cd_avaliacacao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_nota_tb_matricula1`
    FOREIGN KEY (`id_matricula`)
    REFERENCES `db_bhaskara`.`tb_matricula` (`cd_matricula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_pcd`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_pcd` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_pcd` (
  `cd_pcd` INT NOT NULL AUTO_INCREMENT,
  `nm_pcd` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`cd_pcd`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_professor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_professor` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_professor` (
  `cd_professor` INT NOT NULL AUTO_INCREMENT,
  `nm_professor` VARCHAR(255) NOT NULL,
  `cd_rg` VARCHAR(9) NOT NULL,
  `cd_cpf` VARCHAR(11) NOT NULL,
  `nm_email` VARCHAR(255) NULL,
  `nm_foto_perfil` VARCHAR(255) NULL DEFAULT 'null',
  `id_tipo_sanguineo` INT NOT NULL,
  `id_sexo` INT NOT NULL,
  `tb_pcd_cd_pcd` INT NOT NULL,
  `id_endereco` INT NOT NULL,
  `id_telefone` INT NOT NULL,
  `nm_usuario` VARCHAR(30) NOT NULL,
  `cd_codigo_acesso` BIGINT(6) NOT NULL,
  `dt_cadastro` DATETIME NOT NULL DEFAULT current_timestamp,
  `dt_atualizacao` DATETIME NOT NULL DEFAULT current_timestamp on update current_timestamp,
  PRIMARY KEY (`cd_professor`),
  INDEX `fk_tb_professor_tb_endereco1_idx` (`id_endereco` ASC) VISIBLE,
  INDEX `fk_tb_professor_tb_tipo_sanguineo1_idx` (`id_tipo_sanguineo` ASC) VISIBLE,
  INDEX `fk_tb_professor_tb_sexo1_idx` (`id_sexo` ASC) VISIBLE,
  INDEX `fk_tb_professor_tb_pcd1_idx` (`tb_pcd_cd_pcd` ASC) VISIBLE,
  INDEX `fk_tb_professor_tb_telefone1_idx` (`id_telefone` ASC) VISIBLE,
  CONSTRAINT `fk_tb_professor_tb_endereco1`
    FOREIGN KEY (`id_endereco`)
    REFERENCES `db_bhaskara`.`tb_endereco` (`cd_endereco`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_professor_tb_tipo_sanguineo1`
    FOREIGN KEY (`id_tipo_sanguineo`)
    REFERENCES `db_bhaskara`.`tb_tipo_sanguineo` (`cd_tipo_sanguineo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_professor_tb_sexo1`
    FOREIGN KEY (`id_sexo`)
    REFERENCES `db_bhaskara`.`tb_sexo` (`cd_sexo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_professor_tb_pcd1`
    FOREIGN KEY (`tb_pcd_cd_pcd`)
    REFERENCES `db_bhaskara`.`tb_pcd` (`cd_pcd`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_professor_tb_telefone1`
    FOREIGN KEY (`id_telefone`)
    REFERENCES `db_bhaskara`.`tb_telefone` (`cd_telefone`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_responsavel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_responsavel` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_responsavel` (
  `cd_responsavel` INT NOT NULL AUTO_INCREMENT,
  `nm_responsavel` VARCHAR(255) NOT NULL,
  `cd_rg` VARCHAR(9) NOT NULL,
  `cd_cpf` VARCHAR(11) NOT NULL,
  `nm_email` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`cd_responsavel`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_serie`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_serie` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_serie` (
  `cd_serie` INT NOT NULL AUTO_INCREMENT,
  `nm_serie` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`cd_serie`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_sexo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_sexo` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_sexo` (
  `cd_sexo` INT NOT NULL AUTO_INCREMENT,
  `nm_sexo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`cd_sexo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_telefone`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_telefone` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_telefone` (
  `cd_telefone` INT NOT NULL AUTO_INCREMENT,
  `nm_numero` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`cd_telefone`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_tipo_sanguineo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_tipo_sanguineo` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_tipo_sanguineo` (
  `cd_tipo_sanguineo` INT NOT NULL AUTO_INCREMENT,
  `nm_tipo_sanguineo` VARCHAR(5) NOT NULL,
  PRIMARY KEY (`cd_tipo_sanguineo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_trimeste`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_trimeste` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_trimeste` (
  `cd_trimeste` INT NOT NULL AUTO_INCREMENT,
  `nm_trimeste` VARCHAR(50) NOT NULL,
  `id_ano_letivo` INT NOT NULL,
  PRIMARY KEY (`cd_trimeste`),
  INDEX `fk_tb_trimeste_tb_ano_letivo1_idx` (`id_ano_letivo` ASC) VISIBLE,
  CONSTRAINT `fk_tb_trimeste_tb_ano_letivo1`
    FOREIGN KEY (`id_ano_letivo`)
    REFERENCES `db_bhaskara`.`tb_ano_letivo` (`cd_ano_letivo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_turma`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_turma` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_turma` (
  `cd_turma` INT NOT NULL AUTO_INCREMENT,
  `nm_turma` VARCHAR(45) NOT NULL,
  `id_serie` INT NOT NULL,
  PRIMARY KEY (`cd_turma`),
  INDEX `fk_tb_turma_tb_serie1_idx` (`id_serie` ASC) VISIBLE,
  CONSTRAINT `fk_tb_turma_tb_serie1`
    FOREIGN KEY (`id_serie`)
    REFERENCES `db_bhaskara`.`tb_serie` (`cd_serie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_bhaskara`.`tb_turma_materia_professor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `db_bhaskara`.`tb_turma_materia_professor` ;

CREATE TABLE IF NOT EXISTS `db_bhaskara`.`tb_turma_materia_professor` (
  `id_turma` INT NOT NULL,
  `id_materia` INT NOT NULL,
  `id_professor` INT NOT NULL,
  PRIMARY KEY (`id_turma`, `id_materia`, `id_professor`),
  INDEX `fk_tb_turma_has_tb_materia_tb_materia1_idx` (`id_materia` ASC) VISIBLE,
  INDEX `fk_tb_turma_has_tb_materia_tb_turma1_idx` (`id_turma` ASC) VISIBLE,
  INDEX `fk_tb_turma_has_tb_materia_tb_professor1_idx` (`id_professor` ASC) VISIBLE,
  CONSTRAINT `fk_tb_turma_has_tb_materia_tb_turma1`
    FOREIGN KEY (`id_turma`)
    REFERENCES `db_bhaskara`.`tb_turma` (`cd_turma`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_turma_has_tb_materia_tb_materia1`
    FOREIGN KEY (`id_materia`)
    REFERENCES `db_bhaskara`.`tb_materia` (`cd_materia`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_turma_has_tb_materia_tb_professor1`
    FOREIGN KEY (`id_professor`)
    REFERENCES `db_bhaskara`.`tb_professor` (`cd_professor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
